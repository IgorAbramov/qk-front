{"code":"!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var i in e)t.d(n,i,function(t){return e[t]}.bind(null,i));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=6)}([function(e){e.exports=adminjs},function(e,t,r){\"use strict\";var n=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,\"__esModule\",{value:!0}),t.Resource=void 0;const i=r(0),o=r(7),s=r(3),a=r(4);t.Resource=class extends i.BaseResource{constructor(e){super(e);const{model:t,client:r}=e;this.model=t,this.client=r,this.enums=this.client._dmmf.enumMap,this.manager=this.client[(0,s.lowerCase)(t.name)],this.propertiesObject=this.prepareProperties()}databaseName(){return\"prisma\"}databaseType(){var e;return null!==(e=this.client._engineConfig.activeProvider)&&void 0!==e?e:\"database\"}id(){return this.model.name}properties(){return[...Object.values(this.propertiesObject)]}property(e){var t;return null!==(t=this.propertiesObject[e])&&void 0!==t?t:null}build(e){return new i.BaseRecord(i.flat.unflatten(e),this)}count(e){return n(this,void 0,void 0,function*(){return this.manager.count({where:(0,a.convertFilter)(this.model.fields,e)})})}find(e,t={}){return n(this,void 0,void 0,function*(){const{limit:r=10,offset:n=0,sort:o={}}=t,{direction:s,sortBy:u}=o;return(yield this.manager.findMany({where:(0,a.convertFilter)(this.model.fields,e),skip:n,take:r,orderBy:{[u]:s}})).map(e=>new i.BaseRecord(this.prepareReturnValues(e),this))})}findOne(e){return n(this,void 0,void 0,function*(){const t=this.properties().find(e=>e.isId());if(!t)return null;const r=yield this.manager.findUnique({where:{[t.path()]:(0,a.convertParam)(t,this.model.fields,e)}});return new i.BaseRecord(this.prepareReturnValues(r),this)})}findMany(e){return n(this,void 0,void 0,function*(){const t=this.properties().find(e=>e.isId());return t?(yield this.manager.findMany({where:{[t.path()]:{in:e.map(e=>(0,a.convertParam)(t,this.model.fields,e))}}})).map(e=>new i.BaseRecord(this.prepareReturnValues(e),this)):[]})}create(e){return n(this,void 0,void 0,function*(){const t=this.prepareParams(e),r=yield this.manager.create({data:t});return this.prepareReturnValues(r)})}update(e,t={}){return n(this,void 0,void 0,function*(){const r=this.properties().find(e=>e.isId());if(!r)return{};const n=this.prepareParams(t),i=yield this.manager.update({where:{[r.path()]:(0,a.convertParam)(r,this.model.fields,e)},data:n});return this.prepareReturnValues(i)})}delete(e){return n(this,void 0,void 0,function*(){const t=this.properties().find(e=>e.isId());t&&(yield this.manager.delete({where:{[t.path()]:(0,a.convertParam)(t,this.model.fields,e)}}))})}static isAdapterFor(e){const{model:t,client:r}=e;return!(null==t||!t.name||null==t||!t.fields.length||null==r||!r[(0,s.lowerCase)(t.name)])}prepareProperties(){const{fields:e=[]}=this.model;return e.reduce((e,t)=>{var r;if(t.isReadOnly||t.relationName&&(null===(r=t.relationFromFields)||void 0===r||!r.length))return e;const n=new o.Property(t,Object.keys(e).length,this.enums);return e[n.path()]=n,e},{})}prepareParams(e){const t={};for(const r of this.properties()){const n=i.flat.get(e,r.path()),o=r.path();if(void 0===n)continue;const s=r.type(),u=r.foreignColumnName();\"reference\"===s&&u?t[u]=(0,a.convertParam)(r,this.model.fields,n):t[o]=r.isArray()?n?n.map(e=>(0,a.convertParam)(r,this.model.fields,e)):n:(0,a.convertParam)(r,this.model.fields,n)}return t}prepareReturnValues(e){const t={};for(const r of this.properties()){const n=i.flat.get(e,r.path()),o=r.path();if(void 0!==n&&\"reference\"!==r.type()){t[o]=n;continue}const s=r.foreignColumnName();s&&(t[o]=e[s])}return t}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Database=void 0;const n=r(0),i=r(1);t.Database=class extends n.BaseDatabase{constructor(e){super(e),this.prisma=e,this.client=e}resources(){const e=this.client._dmmf,{modelMap:t}=e;return t?Object.values(t).map(e=>new i.Resource({model:e,client:this.client})):[]}static isAdapterFor(e){var t;const r=e._dmmf;return!(null==r||!r.modelMap||!Object.values(null!==(t=null==r?void 0:r.modelMap)&&void 0!==t?t:{}).length)}}},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.safeParseJSON=t.safeParseNumber=t.isNumeric=t.lowerCase=void 0,t.lowerCase=(e=>e.substring(0,1).toLowerCase()+e.substring(1)),t.isNumeric=(e=>{const t=(e+\"\").replace(/,/g,\".\");return!isNaN(parseFloat(t))&&isFinite(+t)}),t.safeParseNumber=(e=>(0,t.isNumeric)(e)?+e:e),t.safeParseJSON=(e=>{try{return JSON.parse(e)}catch(e){return null}})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.convertFilter=t.convertParam=void 0;const n=r(3);t.convertParam=((e,t,r)=>{const i=e.type();if(\"mixed\"===i)return r;if(\"number\"===i)return(0,n.safeParseNumber)(r);if(\"reference\"===i){const i=t.find(t=>t.name===e.foreignColumnName());return i?\"String\"===i.type?r+\"\":(0,n.safeParseNumber)(r):r}return r}),t.convertFilter=((e,r)=>{if(!r)return{};const i=/^[0-9A-F]{8}-[0-9A-F]{4}-[5|4|3|2|1][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,{filters:o={}}=r;return Object.entries(o).reduce((r,[o,s])=>([\"boolean\",\"number\",\"float\",\"object\",\"array\"].includes(s.property.type())?r[o]=(0,n.safeParseJSON)(s.value):[\"date\",\"datetime\"].includes(s.property.type())?\"string\"!=typeof s.value&&s.value.from&&s.value.to?r[o]={gte:new Date(s.value.from),lte:new Date(s.value.to)}:\"string\"!=typeof s.value&&s.value.from?r[o]={gte:new Date(s.value.from)}:\"string\"!=typeof s.value&&s.value.to&&(r[o]={lte:new Date(s.value.to)}):s.property.isEnum()?r[o]={equals:s.value}:\"string\"===s.property.type()&&i.test(s.value.toString())?r[o]={equals:s.value}:\"reference\"===s.property.type()&&s.property.foreignColumnName()?r[s.property.foreignColumnName()]=(0,t.convertParam)(s.property,e,s.value):r[o]={contains:s.value.toString()},r),{})})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.convertFilter=t.convertParam=t.Database=t.Resource=void 0;const n=r(2),i=r(1);var o=r(1);Object.defineProperty(t,\"Resource\",{enumerable:!0,get:function(){return o.Resource}});var s=r(2);Object.defineProperty(t,\"Database\",{enumerable:!0,get:function(){return s.Database}});var a=r(4);Object.defineProperty(t,\"convertParam\",{enumerable:!0,get:function(){return a.convertParam}}),Object.defineProperty(t,\"convertFilter\",{enumerable:!0,get:function(){return a.convertFilter}}),t.default={Database:n.Database,Resource:i.Resource}},function(e,t,r){\"use strict\";r.r(t);var n=r(5);r.n(n);console.log({Resource:n.Resource})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Property=void 0;const n=r(0),i=r(8);t.Property=class extends n.BaseProperty{constructor(e,t=0,r){super({path:e.name}),this.column=e,this.enums=r,this.columnPosition=t}isEditable(){return!this.isId()&&\"createdAt\"!==this.column.name&&\"updatedAt\"!==this.column.name}isId(){return!!this.column.isId}name(){return this.column.name}isRequired(){return this.column.isRequired}isSortable(){return\"reference\"!==this.type()}reference(){return\"scalar\"!==this.column.kind&&this.column.relationName?this.column.type:null}referencedColumnName(){var e,t;return this.reference()&&null!==(t=null===(e=this.column.relationToFields)||void 0===e?void 0:e[0])&&void 0!==t?t:null}foreignColumnName(){var e,t;return this.reference()&&null!==(t=null===(e=this.column.relationFromFields)||void 0===e?void 0:e[0])&&void 0!==t?t:null}availableValues(){var e;if(!this.isEnum())return null;const t=this.enums[this.column.type];return t?null!==(e=t.values.map(e=>e+\"\"))&&void 0!==e?e:[]:null}position(){return this.columnPosition||0}isEnum(){return\"enum\"===this.column.kind}type(){let e=i.DATA_TYPES[this.column.type];return this.reference()&&(e=\"reference\"),this.isEnum()&&(e=\"string\"),e||console.warn(`Unhandled type: ${this.column.type}`),e}}},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.DATA_TYPES=void 0,t.DATA_TYPES={String:\"string\",Boolean:\"boolean\",Int:\"number\",BigInt:\"number\",Float:\"number\",Decimal:\"number\",DateTime:\"datetime\",Json:\"mixed\"}}]);","extractedComments":[]}